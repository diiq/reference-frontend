<div class="reference-thumbnail-wrapper"
     ng-mouseleave="$ctrl.deleting = false"
     ng-swipe-right="$ctrl.deleting = false"
     ng-swipe-left="$ctrl.deleting = true">
  <earmark marked="$ctrl.earmarked()"
           ng-click="$ctrl.toggleEarmark()"></earmark>

  <delete-bar deleting="$ctrl.deleting"
              on-delete="$ctrl.delete()"></delete-bar>

  <div class="spinner" ng-if="$ctrl.spinning || !$ctrl.reference.square || $ctrl.reference.spin">
    <spinner></spinner>
  </div>

  <div class="biglink" ui-sref="reference({id:'{{$ctrl.reference.id}}'})" draggable="false">
    <img class="square" ng-src="{{$ctrl.reference.square}}" draggable="false">
  </div>
</div>
